var config={status:!0,skip_video_ad:"skip_after_countdown",close_ad_banner:!0},currentPermission="on",bg_color={on:"#009933",off:"#ff3300"};function setBadge(){currentPermission=!1===config.status?"off":"on",chrome.browserAction.setBadgeText({text:currentPermission}),chrome.browserAction.setBadgeBackgroundColor({color:bg_color[currentPermission]})}function setConfig(o){config.status=!1!==o.status,config.skip_video_ad=o.skip_video_ad||"skip_after_countdown",config.close_ad_banner=!1!==o.close_ad_banner}function storeConfig(){chrome.storage.sync.set({youtube_ad_skip_trigger_config:config},setBadge)}storeConfig(),chrome.storage.sync.get(["youtube_ad_skip_trigger_config"],function(o){setConfig(o.youtube_ad_skip_trigger_config),setBadge()}),chrome.storage.onChanged.addListener(function(o,e){setConfig(o.youtube_ad_skip_trigger_config.newValue),setBadge()}),chrome.browserAction.onClicked.addListener(function(){config.status=!0!==config.status,storeConfig()});